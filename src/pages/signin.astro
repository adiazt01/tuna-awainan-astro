---
import Layout from "../layouts/Layout.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/dashboard");
}
---

<Layout title="Sign in">
 
<div class="grid grid-cols-1 xl:grid-cols-2">
  <form class="flex flex-col gap-4 items-center justify-center h-screen ml--30" action="/api/auth/signin" method="post">
    
    <h1 class="text-3x1 text-center block text-gray-500 font-bold "> Login</h1>
    <div class="md:flex md:items-center mb-6">
      <div class="md:w-1/3">
        <label
          class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"
          for="inline-full-name"
        >
          Email
        </label>
      </div>
      <div class="md:w-2/3">
        <input
          class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
          id="inline-full-name"
          type="text"
          placeholder="example@site.com"
        />
      </div>
    </div>
    
    <div class="md:flex md:items-center mb-6">
      <div class="md:w-1/3">
        <label
          class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4"
          for="inline-password"
        >
          Password
        </label>
      </div>
      <div class="md:w-2/3">
        <input
          class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
          id="inline-password"
          type="password"
          placeholder="******************"
        />
        
      </div>
      
    </div>
    <div class="md:flex md:items-center mb-6">
      <div class="md:w-1/3"></div>
      <label class="md:w-2/3 block text-gray-500 font-bold">
        <span class="text-sm text-center">
          <p>New here?<br><a href="/register"><b>Create an account</b></a></p>
        </span>
      </label>
    </div>
    <div class="md:flex md:items-center">
      <div class="md:w-1/3"></div>
      <div class="md:w-2/3">
        <button
          class="shadow bg-[#0cc0df] hover:bg-[#0bb0d0] focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
          type="submit"
        >
        Login
        </button>
      </div>
    </div>
  </form>
  <img src="https://asocanaima.com/wp-content/uploads/2024/02/IMG-20240224-WA0004.jpg" class="h-full w-full object-cover">
</div>

</Layout>
